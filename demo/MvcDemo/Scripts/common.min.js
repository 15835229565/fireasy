function banBackspace(n){var i=n||window.event,r=i.target||i.srcElement,t=r.type||r.getAttribute("type"),u=r.readOnly,f=r.disabled,e,o;return u=u==undefined?!1:u,f=f==undefined?!0:f,e=i.keyCode==8&&(t=="password"||t=="text"||t=="textarea")&&(u==!0||f==!0),o=i.keyCode==8&&t!="password"&&t!="text"&&t!="textarea",o||e?!1:void 0}var common=$.extend({},common),dialog,handler;common.getJsPath=function(n){for(var f,i,r,e=document.getElementsByTagName("script"),t="",u=0,o=e.length;u<o;u++)if(f=e[u].src,f.indexOf(n)!=-1){t=f.split(n)[0];break}return i=location.href,i=i.split("#")[0],i=i.split("?")[0],r=i.split("/"),r.length=r.length-1,i=r.join("/"),t.indexOf("https:")==-1&&t.indexOf("http:")==-1&&t.indexOf("file:")==-1&&t.indexOf("/")!=0&&(t=i+"/"+t),t};common.showDialog=function(n,t,i,r,u,f){var s=common.getJsPath("common.js"),o=common.getJsPath(location.href),e=common.findDialog();return handler=u,f=$.extend({absolutePath:!1},f),f=$.extend({id:Math.random(),content:"url:"+(f.absolutePath?"":o)+n,width:i,height:r,title:t,min:!1,max:!1,parent:e,lock:!0,resize:!1,wnd:window,close:function(){e&&e.zindex();common.closeDialog(dialog.content.window.returnValue)}},f),dialog=e==null?$.dialog(f):e.opener.$.dialog(f),dialog.show(),dialog};common.findDialog=function(){return frameElement!=null&&frameElement.api!=null?frameElement.api:parent.frameElement!=null?parent.frameElement.api:null};common.closeDialog=function(n){if(n!=null&&(typeof handler!="function"||!handler(n)))if(n=="$r.")common.refreshWindow(dialog.config.wnd);else if(typeof n=="string"&&n.indexOf("$r.:")!=-1){var t=n.split(":")[1];$("#"+t).datagrid("reload")}};common.refreshWindow=function(n){if(n==null&&(n=window),typeof n.Sys!="undefined"&&n.Sys.WebForms){var t=n.Sys.WebForms.PageRequestManager.getInstance();t._postBackSettings==null&&(t._postBackSettings=t._createPostBackSettings(!0,null,null));t._onFormSubmitHandler()}else n.document.forms[0].submit()};common.closeWindow=function(){var n=common.findDialog();n!=null&&n.close()};common.refreshParent=function(n){common.findDialog().content.window.returnValue=n==undefined?"$r.":"$r.:"+n};common.setReturnValue=function(n){common.findDialog().content.window.returnValue=n};common.showProcess=function(n){n==null&&(n="正在处理，请稍候。。。");var i=$('<div class="datagrid-mask" style="display:block;z-index:5000"><\/div>'),t=$('<div class="datagrid-mask-msg" style="display:block;z-index:5000"><\/div>').html(n);i.appendTo($("body"));t.appendTo($("body"));t.css("left",($("body").width()-t.width())/2)};common.hideProcess=function(){$("body").children("div.datagrid-mask").remove();$("body").children("div.datagrid-mask-msg").remove()};common.popup=function(n){window.top.$.messager.show({title:"提示",msg:n,timeout:4e3,showType:"slide"})};common.alert=function(n,t){typeof n=="object"&&typeof n.succeed!="undefined"?$.messager.alert("提示",n.msg,n.succeed?"info":"warning",t):$.messager.alert("提示",n,"info",t)};common.confirm=function(n,t,i){$.messager.confirm("提示",n,function(n){n?t():i&&i()})};common.processResult=function(n,t,i,r){typeof n!="undefined"&&(typeof r=="undefined"&&(r=!0),n.succeed==!1?(common.alert(n),typeof i=="function"&&i()):n.succeed==!0&&n.msg=="Invalid"?$("#form1").form("invalid",n):(n.succeed==!0&&r&&common.popup(n.msg),typeof t=="function"&&t()))};common.getUrlParam=function(n){var i=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(i);return t!=null?unescape(t[2]):null};common.getJsUrlParam=function(n,t){for(var f,u,r=document.getElementsByTagName("script"),i=0;i<r.length;i++)if(me=!document.querySelector?r[i].getAttribute("src",4):r[i].src,me.substr(me.lastIndexOf("/")).indexOf(n)!==-1&&(f=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),u=me.substr(me.indexOf("?")+1).match(f),u!=null))return unescape(u[2]);return null};common.formatNumber=function(n,t){var h,i,u,o,s;if([][""]={symbol:"",positiveFormat:"%s%n",negativeFormat:"-%s%n",decimalSymbol:".",digitGroupSymbol:",",groupDigits:!0},h={name:"formatCurrency",colorize:!1,region:"",global:!0,roundToDecimalPlace:2,eventOnDecimalsEntered:!1},i=$.extend({name:"formatCurrency",colorize:!1,region:"",global:!0,roundToDecimalPlace:2,eventOnDecimalsEntered:!1,symbol:"",positiveFormat:"%s%n",negativeFormat:"-%s%n",decimalSymbol:".",digitGroupSymbol:",",groupDigits:!0},t),n=""+n,n.search("\\(")>=0&&(n="-"+n),n!==""&&(n!=="-"||i.roundToDecimalPlace!==-1)){if(isNaN(n)){if(n=n.replace(i.regex,""),n===""||n==="-"&&i.roundToDecimalPlace===-1)return;i.decimalSymbol!="."&&(n=n.replace(i.decimalSymbol,"."));isNaN(n)&&(n="0")}var f=String(n).split("."),c=n==Math.abs(n),e=f.length>1,r=e?f[1].toString():"0",l=r;if(n=Math.abs(f[0]),n=isNaN(n)?0:n,i.roundToDecimalPlace>=0&&(r=parseFloat("1."+r),r=r.toFixed(i.roundToDecimalPlace),r.substring(0,1)=="2"&&(n=Number(n)+1),r=r.substring(2)),n=String(n),i.groupDigits)for(u=0;u<Math.floor((n.length-(1+u))/3);u++)n=n.substring(0,n.length-(4*u+3))+i.digitGroupSymbol+n.substring(n.length-(4*u+3));return(e&&i.roundToDecimalPlace==-1||i.roundToDecimalPlace>0)&&(n+=i.decimalSymbol+r),o=c?i.positiveFormat:i.negativeFormat,s=o.replace(/%s/g,i.symbol),s.replace(/%n/g,n)}};document.onkeypress=banBackspace;document.onkeydown=banBackspace;$(function(){$(".enterQuery").each(function(n,t){var i=$(t),r=i;i.hasClass("easyui-textbox")&&(r=i.next().find("input.textbox-text"));r.keydown(function(n){n.which==13&&(n.preventDefault(),typeof query=="function"&&(r!=i&&i.textbox("setValue",$(this).val()),query()))})})});$.ajaxSetup({complete:function(){$("div.datagrid-mask").length>0&&common.hideProcess()},error:function(){}});
//# sourceMappingURL=common.min.js.map