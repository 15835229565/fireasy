$.extend($.fn.form.methods,{save:function(n){function i(t,i){var r=$(n).find('input[name="'+t+'"][type=radio], input[name="'+t+'"][type=checkbox]');return r.length==1?(i[t]=r.prop("checked")?1:0,!0):!1}function r(t,i){for(var r,u,e=["textbox","numberbox","slider"],f=0;f<e.length;f++)if(r=e[f],u=$(n).find("input["+r+'Name="'+t+'"],textarea['+r+'Name="'+t+'"]'),u.length)return i[t]=u[r]("getValue"),u.length;return 0}function u(t,i){var e=["combobox","combotree","combogrid","datetimebox","datebox","combo"],r=$(n).find('[comboName="'+t+'"]'),f,u;if(r.length)for(f=0;f<e.length;f++)if(u=e[f],r.hasClass(u+"-f")){i[t]=r[u]("options").multiple?r[u]("getValues"):r[u]("getValue");return}}var t={};return $("[name]",n).each(function(n,f){var e=$(f).attr("name");i(e,t)||r(e,t)||u(e,t)}),t},saveData:function(n,t,i){if(!n.form("validate"))return"";i=$.extend(i,{isNew:!1,fill:function(){},success:function(){}});var r={},u=n.form("save");i.fill.call(u,r);r.info=JSON.stringify(u);common.showProcess();$.post(t,r,function(t){common.processResult(t,function(){i.isNew&&n.form("clear");var r=isNew?"":t.data;common.setReturnValue(!0);i.success.call(r,t)})})},load:function(n,t){function s(t,i){var r=$(n).find('input[name="'+t+'"][type=radio], input[name="'+t+'"][type=checkbox]');return r.prop("checked",!1),r.each(function(){var n=$(this);(i==1||i==!0||i=="1"||n.val()==String(i)||$.inArray(n.val(),$.isArray(i)?i:[i])>=0)&&n.prop("checked",!0)}),r}function h(t,i){for(var r,u,e=["textbox","numberbox","slider"],f=0;f<e.length;f++)if(r=e[f],u=$(n).find("input["+r+'Name="'+t+'"],textarea['+r+'Name="'+t+'"]'),u.length)return u[r]("setValue",i),u.length;return 0}function c(t,i){var e=["combobox","combotree","combogrid","datetimebox","datebox","combo"],r=$(n).find('[comboName="'+t+'"]'),f,u;if(r.length)for(f=0;f<e.length;f++)if(u=e[f],r.hasClass(u+"-f")){r.attr("delay")?r.attr("_value",i):r[u]("options").multiple?r[u]("setValues",i):r[u]("setValue",i);return}}var i,f,e;for(i in t){var u=$(n),r=t[i],o=s(i,r);o.length||(f=h(i,r),f||($('input[name="'+i+'"]',u).val(r),$('textarea[name="'+i+'"]',u).val(r),$('select[name="'+i+'"]',u).val(r),typeof r=="string"&&$('span[name="'+i+'"]',u).html(r.replace(/\n/g,"<br/>"))));c(i,r);e=$.data(n[0],"form").options;e.onLoadSuccess.call(n,t);n.form("validate",n)}},loadData:function(n,t,i){i=$.extend(i,{id:"",success:function(){}});i.id!=""&&(n.data("id",i.id),$.getJSON(t,function(t){common.processResult(t,function(){n.form("load",t);i.success.call(t)})}))},clear:function(n){function t(t){var i=$(n).find('input[name="'+t+'"][type=radio], input[name="'+t+'"][type=checkbox]');return i.length==1?(i.attr("noclear")||i.prop("checked",!1),!0):!1}function i(t){for(var r,i,f=["textbox","numberbox","slider"],u=0;u<f.length;u++)if(r=f[u],i=$(n).find("input["+r+'Name="'+t+'"],textarea['+r+'Name="'+t+'"]'),i.length&&!i.attr("noclear"))return i[r]("setValue",""),i.length;return 0}function r(t){var f=["combobox","combotree","combogrid","datetimebox","datebox","combo"],i=$(n).find('[comboName="'+t+'"]'),r,u;if(i.length&&!i.attr("noclear"))for(r=0;r<f.length;r++)if(u=f[r],i.hasClass(u+"-f")){i[u]("clear");return}}$("[name]",n).each(function(n,u){var f=$(u).attr("name");t(f)||i(f)||r(f)})},invalid:function(n,t){function o(t,i){for(var f,r,e=0,o=["textbox","numberbox","slider"],u=0;u<o.length;u++)f=o[u],r=$(n).find("input["+f+'Name="'+t+'"]'),r.length&&(r[f]("setInvalid",i),e+=r.length);return e}function s(t,i){var o=$(n),e=["combobox","combotree","combogrid","datetimebox","datebox","combo"],u=o.find('[comboName="'+t+'"]'),r,f;if(u.length)for(r=0;r<e.length;r++)if(f=e[r],u.hasClass(f+"-f"))return u[f]("setInvalid",i),!0;return!1}for(var r="",i=0;i<t.data.length;i++){var u=t.data[i].Key,f=t.data[i].Value,e=o(u,f);e!=0||s(u,f)||(r+=t.data[i].Value)}r!=""&&common.alert(r)}});$.extend($.fn.validatebox.defaults.rules,{minLength:{validator:function(n,t){return n.length>=t[0]},message:"最少输入 {0} 个字符。"},length:{validator:function(n,t){var i=$.trim(n).length;return i>=t[0]&&i<=t[1]},message:"内容长度介于{0}和{1}之间."},phone:{validator:function(n){return/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/i.test(n)},message:"电话号码格式不正确"},mobile:{validator:function(n){return/^(13|15|18|17)\d{9}$/i.test(n)},message:"手机号码格式不正确"},phoneOrMobile:{validator:function(n){return/^(13|15|18)\d{9}$/i.test(n)||/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/i.test(n)},message:"请填入手机或电话号码"},idcard:{validator:function(n){return/^\d{15}(\d{2}[A-Za-z0-9])?$/i.test(n)},message:"身份证号码格式不正确"},floatOrInt:{validator:function(n){return/^(\d{1,3}(,\d\d\d)*(\.\d{1,3}(,\d\d\d)*)?|\d+(\.\d+))?$/i.test(n)},message:"请输入数字，并保证格式正确"},currency:{validator:function(n){return/^d{0,}(\.\d+)?$/i.test(n)},message:"货币格式不正确"},integer:{validator:function(n){return/^[+]?[1-9]+\d*$/i.test(n)},message:"请输入整数"},chinese:{validator:function(n){return/^[\u0391-\uFFE5]+$/i.test(n)},message:"请输入中文"},english:{validator:function(n){return/^[A-Za-z]+$/i.test(n)},message:"请输入英文"},unnormal:{validator:function(n){return/.+/i.test(n)},message:"输入值不能为空和包含其他非法字符"},username:{validator:function(n){return/^[a-zA-Z][a-zA-Z0-9_]{1,15}$/i.test(n)},message:"字母开头，包含字母数字下划线"},zip:{validator:function(n){return/^[1-9]\d{5}$/i.test(n)},message:"邮政编码格式不正确"},ip:{validator:function(n){return/d+.d+.d+.d+/i.test(n)},message:"IP地址格式不正确"},name:{validator:function(n){return/^[\u0391-\uFFE5]+$/i.test(n)|/^\w+[\w\s]+\w+$/i.test(n)},message:"请输入姓名"},email:{validator:function(n){return/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(n)},message:"电子邮件格式不正确"},same:{validator:function(n,t){return $("#"+t[0]).val()!=""&&n!=""?$("#"+t[0]).val()==n:!0},message:"两次输入的密码不一致！"},remote:{validator:function(n,t){var i,r;return typeof t[0]=="function"?t[0](n):(i={},i[t[1]]=n,r=$.ajax({url:t[0],dataType:"json",data:i,async:!1,cache:!1,type:"post"}).responseText,r=="true")},message:"请修正该字段。"}});$.extend($.fn.validatebox.methods,{setInvalid:function(n,t){var i,r;n.addClass("validatebox-invalid");i=n.data("validatebox");i.message=t;r=i.options;n.tooltip($.extend({},r.tipOptions,{content:i.message,position:r.tipPosition,deltaX:r.deltaX})).tooltip("show");i.tip=!0}});$.extend($.fn.datagrid.defaults,{striped:!0});$.extend($.fn.treegrid.defaults,{striped:!0});$.extend($.fn.tabs.methods,{iframe:function(n,t){var i=n.tabs("getTab",t.index),r;t=$.extend({index:0,url:""},t);i&&i.children().length==0&&(r='<iframe style="width:100%;height:100%;" frameborder="false" src="'+t.url+'"><\/iframe>',n.tabs("update",{tab:i,options:{content:r}}))}});
//# sourceMappingURL=jquery.easyui.extend.min.js.map